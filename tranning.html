<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/style.css">
    <title>Document</title>
</head>
<body>
    <div class="header">PROJECT</div>
    <div class="main-content-1">
        <div class="sticky">
            <div class="section section-1">
                <div class="title">#1 React TodoList</div>
                <div class="content">
                    <img src="./images/project01.png">
                    <div>
                        <h2>ë¦¬ì•¡íŠ¸jsë¥¼ ì‚¬ìš©í•œ TodoList</h2>
                        <span>Skill: HTML, CSS, React.js</span>
                    </div>
                </div>
            </div>
            <div class="section section-2">
                <div class="title">#2 Reading Review</div>
                <div class="content">
                    <img src="./images/project02.png">
                    <div>
                        <h2>ë„ì„œ ë¦¬ë·° ì‚¬ì´íŠ¸</h2>
                        <span>Skill: HTML, CSS, JavaScript</span>
                    </div>
                </div>
            </div>
            <div class="section section-3">
                <div class="title">#3 Shooting Game!</div>
                <div class="content">
                    <img src="./images/project03.png">
                    <div>
                        <h2>ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•œ ë¯¸ë‹ˆê²Œì„</h2>
                        <span>Skill: HTML, CSS, React.js</span>
                    </div>
                </div>
            </div>
            <div class="section section-4">
                <div class="title">#4 ì–´ë µì§€ ì•Šì•„ìš” ğŸ˜</div>
                <div class="content">
                    <img src="./image4.jpg">
                    <div>
                        <h2>ë¦¬ì•¡íŠ¸jsë¥¼ ì‚¬ìš©í•œ TodoList</h2>
                        <span>Skill: HTML, CSS, React.js</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        class FolderScroll {
            constructor(wrapper, sticky) {
                this.wrapper = wrapper
                this.sticky = sticky
                this.children = this.sticky.querySelectorAll('.section')
                this.length = this.children.length
                this.headerVh = 6
                this.contentVh = 92 - this.headerVh * this.length
                this.start = 0
                this.end = 0
            }

            init() {
                this.start = this.wrapper.offsetTop + 100
                this.end = this.wrapper.offsetTop + this.wrapper.offsetHeight - innerHeight - 100

                this.children.forEach((child, i) => {
                    child.style.bottom = -(100 - this.headerVh * (this.length - i)) + 'vh'
                    child.querySelector('.title').style.height = this.headerVh + 'vh'
                    child.querySelector('.content').style.height = this.contentVh + 'vh'
                })
            }

            animate() {
                this.children.forEach((child, i) => {
                    const unit = (this.end - this.start) / this.length
                    const s = this.start + unit * i + 100
                    const e = this.start + unit * (i + 1)

                    if (scrollY <= s) {
                        child.style.transform = `translate3d(0, 0, 0)`
                    } else if (scrollY >= e) {
                        child.style.transform = `translate3d(0, ${-this.contentVh}%, 0)`
                    } else {
                        child.style.transform =
                            `translate3d(0, ${(scrollY - s) / (unit - 100) * (-this.contentVh)}%, 0)`
                    }
                })
            }
        }

        const mainContent1 = document.querySelector('.main-content-1')
        const sticky = document.querySelector('.sticky')
        const folderScroll = new FolderScroll(mainContent1, sticky)
        folderScroll.init()

        window.addEventListener('resize', () => {
            folderScroll.init()
        })
        window.addEventListener('scroll', () => {
            folderScroll.animate()
        })
    </script>
</body>
</html>